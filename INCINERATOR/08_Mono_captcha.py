FONT = {'00000010001111100000': 1,
        '00000100111010111101': 2,
        '00000100011010111011': 3,
        '00000111000010011111': 4,
        '00000111011010110010': 5,
        '00000011101010110111': 6,
        '00000100111010011000': 7,
        '00000111111010111111': 8,
        '00000011011010111110': 9,
        '00000111101000101111': 0}


def checkio(image):
    nums = ''.join(''.join(map(str, x)) for x in zip(*image))
    nums = [nums[x * 20:20 * (x + 1)] for x in range(int(len(image[0]) // 4))]
    r = []
    for n in nums:
        for f in FONT:
            z = zip(n, f)
            if sum(1 for i, _ in enumerate(z) if z[i][0] != z[i][1]) < 2:
                r.append(FONT[f])
    return int(''.join(map(str, r)))

print checkio([[0, 1, 1, 1, 0, 0, 1, 1, 0, 1, 0, 1, 0],
               [0, 0, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0],
               [0, 0, 1, 0, 0, 1, 1, 1, 0, 1, 1, 1, 0],
               [0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0],
               [0, 1, 1, 1, 0, 1, 1, 0, 0, 0, 0, 1, 0]])

print checkio([[0, 1, 1, 1, 0, 0, 1, 1, 0, 1, 1, 1, 0],
               [0, 0, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0],
               [0, 0, 1, 0, 0, 1, 1, 1, 0, 1, 1, 1, 0],
               [0, 1, 0, 1, 0, 1, 0, 1, 0, 0, 0, 1, 0],
               [0, 1, 1, 1, 0, 1, 1, 0, 0, 0, 0, 1, 0]])
